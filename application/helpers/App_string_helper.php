<?php

/**
 * Parses a templated string
 *
 * @param string $str A templated string
 * @param array $data Map of values to parse the keys to
 * @return string A parsed string
 */
if(!function_exists('parse_string'))
{
    function parse_string($str,$data)
    {
        $CI=get_instance();
        $CI->load->library('parser');
        return $CI->parser->parse_string($str,$data,TRUE);
    }
}

if(!function_exists('lorem_ipsum'))
{
    function lorem_ipsum($word_count,$start=TRUE)
    {
        $words=array(
            'lorem',
            'ipsum',
            'dolor',
            'sit',
            'amet',
            'consectetur',
            'adipisicing',
            'elit',
            'perspiciatis',
            'nulla',
            'earum',
            'inventore',
            'dolores',
            'voluptate',
            'ipsa',
            'iure',
            'tempore',
            'quaerat',
            'ullam',
            'deserunt',
            'tempora',
            'maxime',
            'quia',
            'magnam',
            'animi',
            'saepe',
            'est',
            'error',
            'in',
            'mollitia',
            'voluptatum',
            'rem',
            'alias',
            'ad',
            'harum',
            'quod',
            'qui',
            'reiciendis',
            'illum',
            'culpa',
            'minima',
            'eligendi',
            'similique',
            'vero',
            'modi',
            'doloremque',
            'dicta',
            'repellendus',
            'illo',
            'libero',
            'rerum',
            'blanditiis',
            'a',
            'esse',
            'dolorum',
            'magni',
            'asperiores',
            'quis',
            'autem',
            'et',
            'ex',
            'adipisci',
            'incidunt',
            'possimus',
            'maiores',
            'voluptatem',
            'veniam',
            'sed',
            'natus',
            'eaque',
            'dolorem',
            'delectus',
            'eum',
            'aliquid',
            'praesentium',
            'id',
            'nihil',
            'corrupti',
            'deleniti',
            'recusandae',
            'veritatis',
            'exercitationem',
            'atque',
            'odit',
            'minus',
            'sint',
            'distinctio',
            'eveniet',
            'laborum',
            'expedita',
            'repellat',
            'dignissimos',
            'numquam',
            'nesciunt',
            'temporibus',
            'ratione',
            'velit',
            'officia',
            'cum',
            'placeat',
            'beatae',
            'iusto',
            'debitis',
            'laboriosam',
            'nisi',
            'ea',
            'architecto',
            'provident',
            'vel',
            'sequi',
            'suscipit',
            'iste',
            'accusantium',
            'labore',
            'quae',
            'consequatur',
            'impedit',
            'cumque',
            'aut',
            'totam',
            'ipsam',
            'neque',
            'pariatur',
            'odio',
            'ab',
            'doloribus',
            'quidem',
            'porro',
            'unde',
            'quam',
            'quisquam',
            'tenetur',
            'voluptas',
            'itaque',
            'voluptates',
            'corporis',
            'vitae',
            'soluta',
            'enim',
            'sapiente',
            'aliquam',
            'molestias',
            'repudiandae',
            'facilis',
            'nostrum',
            'eius',
            'reprehenderit',
            'quasi',
            'cupiditate',
            'at',
            'fuga',
            'aperiam',
            'eos',
            'nemo',
            'fugiat',
            'hic',
            'sunt',
            'perferendis',
            'obcaecati',
            'facere',
            'explicabo',
            'optio',
            'consequuntur',
            'voluptatibus',
            'fugit',
            'quas',
            'ducimus',
            'officiis',
            'non',
            'omnis',
            'necessitatibus',
            'dolore',
            'quo',
        );

        $lorem_ipsum=( $start ? array('lorem','ipsum','dolor','sit','amet') : array() );
        $i=( $start ? 4 : 0 );

        for(;$i<$word_count;$i++)
        {
            $lorem_ipsum[]=$words[ rand(0,count($words)-1) ];
        }

        $lorem_ipsum=implode(' ',$lorem_ipsum);
        $lorem_ipsum=ucfirst($lorem_ipsum).'.';

        return $lorem_ipsum;
    }
}